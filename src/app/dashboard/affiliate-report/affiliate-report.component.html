<div class="container-fluid" >
    
    <!-- Main Heading (Start) -->
    <div class="row" >
        <div class="col text-center">
            <p class="mainHeading">AFFILIATE REPORT</p> 
            <i id="guide_icon" class="fa fa-question-circle" style="color:#0000009a;cursor:pointer;" data-toggle="modal" data-target="#exampleModal"></i> 
        </div>
    </div>
    <!-- Main Heading (End) -->
    
    <!-- <div class="row" >
      <div  class="col"> 
        <button  class="add_btn" routerLink="add">ADD</button>
      </div>
    </div> -->
  
    <div class="row" style="margin-top: 70px;justify-content: center;">
        <div class="col-8 col-md-3 col-lg-2 form-group text-center" >
          <input 
                 id="fromDate"
                 autocomplete="off"
                 #fromDate 
                 type="text"
                 placeholder="mm/dd/yy"
                 [(ngModel)]="StartingDate"
                 class="datepicker form-control"
                 bsDatepicker
                 [bsConfig]="{showTodayButton: false, todayPosition: 'center' }"
                 [maxDate]="maxDate"
                 [bsConfig]="{ isAnimated: true }" 
                 
          />
          <label>Select From Date</label>
            
  
        </div>
  
        <!-- <div class="col-md-2">
  
        </div> -->
  
        <div class="col-8 col-md-3 col-lg-2 form-group text-center"  >
          <input  
                   id="toDate"
                   autocomplete="off"
                   #toDate
                   type="text"
                   placeholder="mm/dd/yy"
                   [(ngModel)]="EndingDate"
                   class="datepicker form-control"
                   bsDatepicker
                   [bsConfig]="{showTodayButton: false, todayPosition: 'center' }"
                   [maxDate]="maxDate"
                   [bsConfig]="{ isAnimated: true }"
                   
            /> 
  
            <label>Select To Date</label>
  
            
  
        </div>
        
        <div class="col-8 col-md-3 col-lg-2 text-center form-group">
            <select (change)="onChangeSelect()" [(ngModel)]="selectedValue" style="height: 42px;"  class="form-select form-control myselector "  aria-label="Default select example">
                <option disabled value="0">Select Affiliate</option>
                <option value="3">Noetic dev team</option>
                <option value="13">Big-Plus</option>
                <option value="12">TTC</option>
                <option value="16">Mobipium</option>
                <option value="14">test_dcb_vendor</option>
                <option value="18">Grand Tech</option>
                <option value="19">Mobikok</option>
                <option value="23">Mobplus Tech</option>
                <option value="17">Mobidea</option>
                <option value="25">KK Digital</option>
                <option value="24">Bemobi</option>
            </select>
      </div>
      
          
    </div>
    <div class="row" style="justify-content: center;">
        <div class="col-8 col-md-3 col-lg-2 text-center form-group" >
            <button class="search_btn form-control" (click)="onClickCheckRecord(fromDate.value,toDate.value)">Search Record</button>
        </div>
    </div>
     
  </div>
  
  <div class="container-fluid" style="margin-top: 30px;overflow-x: auto;" >
  <ng-container *ngIf="isEmpty() == true; else elseData" class="row" >
      <div class="col text-center">
        <p class="error">{{msg}}</p>
    </div>
  </ng-container>
    
  <ng-template  #elseData class="table-responsive">
      
    <table class="table table-striped table-bordered" style="overflow-x: scroll;">
        <thead>
          <tr >
            <th>ID<br>&nbsp;</th>
            <th>Affiliate<br>ID</th>
            <th>cDate<br>&nbsp;</th>
            <th>New<br>Sub</th>
            <th>Free<br>Sub</th>
            <th>Charged<br>Sub</th>
            <th>Postbacks<br>&nbsp;</th>
            <th>Blocked<br>Postbacks</th>
            <th>Unsub<br>Users</th>
            <th>Total<br>Revenue</th>
            
          </tr>
        </thead>
        <tbody>
          
          
          <tr *ngFor="let item of data.entities">
            <td>{{item.id}}</td>
            <td>{{item.affiliateId}}</td>
            <td>{{item.cdate | date}}</td>
            <td >{{item.newSub}}</td>
            <td >{{item.freeSub}}</td>
            <td >{{item.chargedSub}}</td>
            <td >{{item.postBack}}</td>
            <td>{{item.blockPostBack}}</td>
            <td>{{item.unsubUser}}</td>
            <td>{{item.totalRevenue}}</td>
            
          </tr>
          
         
        </tbody>
      </table>
        
    </ng-template>
    
  
    
  </div>  

  <ng-container *ngIf="isEmpty() == false;">
  <div class="mt-4" >
    <pagination 
    class="my-pagination justify-content-center" [maxSize]="5"  [totalItems]="data['total_items']" [(ngModel)]="currentPage" (pageChanged)="pageChanged($event,fromDate.value,toDate.value)">
  
  </pagination>
  </div>
  </ng-container>
  
  
  <!-- Affiliate Report Guide-->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Affiliate Report Guide</h5>
        
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
  
      <div class="modal-body">
        Instructions
      </div>
  
      
  
    </div>
  </div>
  </div>
  
  